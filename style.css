:root{
  --sky:#e8f6ff;
  --road:#e0e0e0;
  --dash:#cfd8dc;
  --accent:#90caf9;

  --impact:#ffcc80;

  --btnBg:#fff;
  --btnBorder:#90caf9;
  --ok:#81c784;
  --bad:#e57373;

  --steps:20; /* race steps */
}

*{ box-sizing:border-box; font-family: "Arial Rounded MT Bold", Arial, sans-serif; }
body{
  margin:0;
  background:var(--sky);
  display:flex;
  justify-content:center;
}

#app{
  width:100%;
  max-width:900px;
  padding:12px;
}

/* top bar */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:10px;
}
.pill{
  border:2px solid var(--accent);
  background:#fff;
  border-radius:999px;
  padding:8px 14px;
  font-weight:700;
  cursor:pointer;
  user-select:none;
}
.round, .score{
  font-weight:800;
}

/* highway */
.highway{
  position:relative;
  height:340px;
  background:var(--road);
  border-radius:18px;
  overflow:hidden;
  margin-bottom:12px;
}

.lanes{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  height:100%;
}
.lane{
  border-left:2px dashed var(--dash);
}
.lane:first-child{ border-left:none; }

.impact{
  position:absolute;
  left:0; right:0;
  bottom:70px;
  height:4px;
  background:var(--impact);
}

/* falling word bubble */
.word{
  position:absolute;
  top:12px;
  left:50%;
  transform:translateX(-50%);
  padding:10px 18px;
  background:#fff;
  border-radius:30px;
  font-size:30px;
  box-shadow:0 5px 14px rgba(0,0,0,0.12);
  transition: transform 180ms ease, opacity 180ms ease;
}
.word.pop{
  transform:translateX(-50%) scale(1.25);
  opacity:0;
}

/* cute parked car */
.playerCarVisual{
  position:absolute;
  bottom:18px;
  left:50%;
  transform:translateX(-50%);
  font-size:40px;
  filter: drop-shadow(0 6px 6px rgba(0,0,0,0.1));
}

/* answers */
.answers{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-bottom:12px;
}
.answerBtn{
  border:2px solid var(--btnBorder);
  background:var(--btnBg);
  border-radius:22px;
  padding:14px 10px;
  font-size:18px;
  font-weight:800;
  cursor:pointer;
  transition: transform 120ms ease, background 120ms ease;
}
.answerBtn:active{ transform:scale(0.98); }
.answerBtn.wrong{
  background:var(--bad);
  color:#fff;
}
.answerBtn.correct{
  background:var(--ok);
  color:#fff;
}

/* race */
.raceWrap{
  background: rgba(255,255,255,0.65);
  border-radius:18px;
  padding:10px 10px 12px;
}
.raceTitle{
  font-weight:900;
  margin:2px 2px 8px;
}

.raceTrack{
  position:relative;
  border-radius:16px;
  padding:10px;
  background:#fff;
  border:2px solid #cfe9ff;
}

.raceLane{
  display:grid;
  grid-template-columns:60px 1fr;
  align-items:center;
  gap:10px;
  margin:10px 0;
}
.laneLabel{
  font-weight:900;
  color:#4b6b7a;
}

.trackLine{
  position:relative;
  height:34px;
  border-radius:999px;
  background:
    repeating-linear-gradient(
      to right,
      #e3f2fd 0,
      #e3f2fd calc(100%/var(--steps) - 2px),
      #bbdefb calc(100%/var(--steps) - 2px),
      #bbdefb calc(100%/var(--steps))
    );
  overflow:hidden;
  border:2px solid #cfe9ff;
}

.carToken{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:22px;
  transition:left 180ms ease;
  left: 0px;
}

.trackEnds{
  display:flex;
  justify-content:space-between;
  margin-top:4px;
  font-size:12px;
  font-weight:900;
  color:#6b7c86;
}

/* overlay */
.overlay{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.45);
  padding:18px;
}
.panel{
  width:min(460px, 92vw);
  background:#fff;
  border-radius:20px;
  padding:18px;
  text-align:center;
}
.panel h2{ margin:6px 0 10px; }
.panel button{
  margin-top:10px;
  border:none;
  background:#64b5f6;
  color:#fff;
  font-weight:900;
  border-radius:999px;
  padding:10px 18px;
  cursor:pointer;
}